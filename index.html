<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Factory Sim</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <style>
            body {
                /* This moves the content below the navbar */
                padding-top: 90px;
                padding-bottom: 40px;
            }
        </style>
        <link rel="stylesheet" href="css/smoothness/jquery-ui-1.9.2.custom.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->
        <div id="header-region" class="navbar navbar-inverse navbar-fixed-top"></div>
        <div id="main-region" class="container"></div>
        <div id="modal-region" class="modal hide fade"></div>











        <!-- TEMPLATES -->

        <script id="header-template" type="text/template" >
            <div class="navbar-inner">
                <div class="container">
                    <a class="brand" href="#">Factory Sim</a>
                    <div id="toolbar-holder"></div>
                </div>
            </div>
            <div id="workforce-holder"></div>
        </script>

        <script id="welcome-template" type="text/template">
            <h2>Welcome to the factory simulation</h2>
            <p>As a producer of widgets, you will apply concepts learned from the class and readings. Keep in mind that you need to think carefully about what you need to do to successfully produce enough widgets to make a positive profit. As this game is in beta form, please call Alysse over as you are playing if you  have any questions about the program.</p>
            <p><button class="btn btn-large btn-primary pull-right js-start">Start Simulator</button></p>
        </script>

        <script id="login-template" type="text/template">
            <div class="modal-header">
                <h3>Before we get started...</h3>
            </div>
            <div class="modal-body authenticate">
                <span>Please identify yourselves in order to get credit.</span>

                <div class="row login-users">
                    <div class="span7">
                        <h3>Players <%= showAddButton() ? '<button type="button" class="btn btn-link js-new-user">add player</button>' : "" %></h3>
                        <div class="user-list"></div>
                    </div>
                </div>

                <div class="new-user-holder"></div>
            </div>
            <div class="modal-footer">
                <button class="btn js-start-game <%= hasUser() ? 'btn-primary' : ''%>" type="button"><%= hasUser() ? "Start Game" : "Skip" %></button>
            </div>
        </script>













        <!-- Thirt-Party Libraries (Order matters) -->
        <script type="text/javascript" src="js/vendor/jquery-1.8.3.js"></script>
        <script type="text/javascript" src="js/vendor/jquery-ui-1.9.2.custom.js"></script>
        <script type="text/javascript" src="js/vendor/bootstrap.js"></script>
        <script type="text/javascript" src="js/vendor/underscore.js"></script>
        <script type="text/javascript" src="js/vendor/backbone.js"></script>
        <script type="text/javascript" src="js/vendor/backbone.marionette.js"></script>
        <script type="text/javascript" src="js/vendor/jsPlumb-1.3.16-all.js"></script>
        <script type="text/javascript" src="js/plugins.js"></script>


        <!-- Config -->
        <script type="text/javascript" src="js/backbone/config/marionette/application.js"></script>
        <script type="text/javascript" src="js/backbone/config/marionette/regions/modalRegion.js"></script>

        <!-- Application -->
        <script type="text/javascript" src="js/backbone/factorySim.js"></script>


        <!-- Controllers -->
        <script type="text/javascript" src="js/backbone/controllers/_base.js"></script>


        <!-- Apps -->
        <script type="text/javascript" src="js/backbone/apps/header/header_app.js"></script>
        <script type="text/javascript" src="js/backbone/apps/header/show/show_controller.js"></script>
        <script type="text/javascript" src="js/backbone/apps/header/show/show_view.js"></script>

        <script type="text/javascript" src="js/backbone/apps/welcome/welcome_app.js"></script>
        <script type="text/javascript" src="js/backbone/apps/welcome/show/show_controller.js"></script>
        <script type="text/javascript" src="js/backbone/apps/welcome/show/show_view.js"></script>

        <script type="text/javascript" src="js/backbone/apps/user/user_app.js"></script>
        <script type="text/javascript" src="js/backbone/apps/user/login/login_controller.js"></script>
        <script type="text/javascript" src="js/backbone/apps/user/login/login_view.js"></script>



        <!-- Application core (Order matters) --
        <script type="text/javascript" src="js/FactorySim.js"></script>
        <script type="text/javascript" src="js/FactorySim.Util.js"></script>
        <script type="text/javascript" src="js/FactorySim.Account.js"></script>
        <script type="text/javascript" src="js/FactorySim.Game.js"></script>
        <script type="text/javascript" src="js/FactorySim.Factory.js"></script>
        <script type="text/javascript" src="js/FactorySim.Bank.js"></script>
        <script type="text/javascript" src="js/FactorySim.Clock.js"></script>
        <script type="text/javascript" src="js/FactorySim.Workers.js"></script>

        <!-- Floor Items (Order matters) --
        <script type="text/javascript" src="js/FactorySim.FloorItem.js"></script>
        <script type="text/javascript" src="js/FactorySim.Resources.js"></script>
        <script type="text/javascript" src="js/FactorySim.Jobs.js"></script>
        <script type="text/javascript" src="js/FactorySim.Markets.js"></script>

        <!-- Remove these soon
        <script type="text/javascript" src="js/FactorySim.Stats.js"></script>
        <script type="text/javascript" src="js/FactorySim.Sim.js"></script>
        -->
        <script type="text/javascript">
            FactorySim.start({
                settings: {},
                config: {
                    resources: [
                        {"id":20, "x":35, "y":0, "name":"Raw Material A", "price":30, "purchased": 25},
                        {"id":21, "x":270, "y":0,"name":"Raw Material B", "price":35, "purchased": 25},
                        {"id":22, "x":535, "y":0, "name":"Raw Material C", "price":30, "purchased": 15},
                        {"id":23, "x":780, "y":0, "name":"Raw Material D", "price":65, "purchased": 10}],
                    jobs: [
                        {"id":16, "x":20, "y":130, "skill_required":"Developer", "parentIDs":[20], "taskTime":4},
                        {"id":17, "x":255, "y":130, "skill_required":"Developer", "parentIDs":[21], "taskTime":5},
                        {"id":18, "x":520, "y":130, "skill_required":"Chemist", "parentIDs":[22], "taskTime":9},
                        {"id":19, "x":765, "y":130, "skill_required":"Developer", "parentIDs":[23], "taskTime":15},

                        {"id":14, "x":520, "y":250, "skill_required":"Engineer", "parentIDs":[18], "taskTime":18, "inventory":15},
                        {"id":15, "x":765, "y":250, "skill_required":"Chemist", "parentIDs":[19], "taskTime":12},
                        {"id":12, "x":150, "y":250, "skill_required":"Assembler", "parentIDs":[16, 17], "taskTime":8, "inventory":25},

                        {"id":13, "x":765, "y":380, "skill_required":"Engineer", "parentIDs":[15], "taskTime":20, "inventory":10},
                        {"id":8, "x":20, "y":380, "skill_required":"Developer", "parentIDs":[12], "taskTime":15},
                        {"id":9, "x":250, "y":380, "skill_required":"Fabricator", "parentIDs":[12], "taskTime":6},
                        {"id":10, "x":520, "y":380, "skill_required":"Fabricator", "parentIDs":[14], "taskTime":28},

                        {"id":11, "x":765, "y":510, "skill_required":"Fabricator", "parentIDs":[13], "taskTime":14},
                        {"id":7, "x":20, "y": 510, "skill_required":"Chemist", "parentIDs":[8], "taskTime":15},

                        {"id":4, "x":20, "y": 640, "skill_required":"Engineer", "parentIDs":[7], "taskTime":20},
                        {"id":5, "x":350, "y": 640, "skill_required":"Assembler", "parentIDs":[9, 10], "taskTime":9},
                        {"id":6, "x":765, "y": 640, "skill_required":"Engineer", "parentIDs":[11], "taskTime":7},

                        {"id":1, "x":20, "y":770, "skill_required":"Chemist", "parentIDs":[4], "taskTime":18},
                        {"id":2, "x":350, "y":770, "skill_required":"Chemist", "parentIDs":[5], "taskTime":6},
                        {"id":3, "x":765, "y":770, "skill_required":"Chemist", "parentIDs":[6], "taskTime":10}],
                    markets: [
                        {"id":24, "x":20, "y":900, "name": "Widget 1", "parentIDs":[1], "unitPrice":180, "unitProfit":115, "demand":40},
                        {"id":25, "x":350, "y":900, "name": "Widget 2", "parentIDs":[2], "unitPrice":240, "unitProfit":145, "demand":50},
                        {"id":26, "x":765, "y":900, "name": "Widget 3", "parentIDs":[3], "unitPrice":180, "unitProfit":115, "demand":40}],
                    workers: [
                        {"name": "Alice", "skill": "Chemist"},
                        {"name": "Bob", "skill": "Developer"},
                        {"name": "Carl", "skill": "Developer"},
                        {"name": "Debbie", "skill": "Engineer"},
                        {"name": "Eric", "skill": "Engineer"},
                        {"name": "Frank", "skill": "Assembler"},
                        {"name": "George", "skill": "Fabricator"},
                        {"name": "Hank", "skill": "Chemist"}]
                }

            });
        </script>


    </body>
</html>
